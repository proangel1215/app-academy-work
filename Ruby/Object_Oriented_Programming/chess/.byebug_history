q
list=
piece
s
n
color
s
list=
col_idx
col
n
s
n
s
n
q
n
s
square_under_attack?(row, col_idx)
square_has_same_color_piece?(row, col_idx)
col_idx
n
col_idx
s
row
n
s
n
q
s
move_dirs
n
square_under_attack?(row, col_idx)
square_has_same_color_piece?(row, col_idx)
col_idx
n
row
col_idx
s
n
row
n
row
col_idx
n
col_idx
n
square_under_attack?(row, col_idx)
square_has_same_color_piece?(row, col_idx)
n
col_idx
row
s
n
row
n
s
n
q
n
s
n
q
piece.moves.include?(position)
color
position
piece.class
list=
piece
piece.color == color
n
display piece.position
s
exit
list=
piece.moves
color
n
list=
piece
n
piece
n
display piece.position
piece
s
list=
rows
color
position
q
color
n
s
col
row
n
display piece.position
piece
s
piece
s
color
position
n
s
q
col
row
n
position
color
n
s
opponent_color
col
row
q
nq
m
n
color
n
s
q
board.any_pieces_attacking?([row, col_idx], opponent_color)
opponent_color
self
q
color
piece
n
c
q
c
q
position
piece.moves.include?(position) 
piece.color
color
n
s
n
display piece
display piece.position
n
piece
s
piece
list=
row
s
n
row_idx
row
list=
rows[7].length
rows.length
rows
row
n
color
position
q
piece
n
list=
row.length
row
rows.length
rows
n
display piece.position
n
piece.position
piece
q
piece.moves
color
piece.color
list=
piece
n
forward_steps + side_attacks
s
n
display piece.position
n
self.position
self
c
q
n
piece
n
forward_steps + side_attacks
n
display piece.position
n
piece.position
piece
n
list=
self.position
side_attacks
forward_steps
self
c
q
